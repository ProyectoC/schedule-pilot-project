<div class="card text-center">
    <h5 class="card-header">Mi Perfil</h5>
    <div class="card-body">
        <h5 class="card-title">Cambiar la contraseña</h5>
        <p class="card-text">Realice el cambio de su contraseña y vuelva a iniciar sesión.</p>
        <form *ngIf="formGroup" [formGroup]="formGroup" (ngSubmit)="onSubmit()">
            <div class="form-group">
                <label for="email-user">Correo Electronico o Usuario</label>
                <i [ngClass]="isValidCheck('user')"></i>
                <input formControlName="user" type="text" class="form-control" id="email-user"
                    aria-describedby="emailHelp" [ngClass]="isValidInput('user')">
                <small id="emailHelp" class="form-text text-muted">Ingresar tu usuario o correo electronico.</small>
                <div class="invalid-feedback">El usuario o correo electronico no es valido.</div>
            </div>
            <div class="form-group">
                <label for="password-user">Contraseña Actual</label>
                <i [ngClass]="isValidCheck('password')"></i>
                <input formControlName="password" type="password" class="form-control" id="password-user"
                    [ngClass]="isValidInput('password')">
                <div class="invalid-feedback">La constraseña no es valida.</div>
            </div>
            <div formGroupName="passwordFormGroup">
                <div class="form-group">
                    <label for="password">Contraseña Nueva</label>
                    <i [ngClass]="isValidCheck('passwordFormGroup.password')"></i>
                    <input formControlName="password" type="password" class="form-control" id="password"
                        [maxLength]="20" [ngClass]="isValidInput('passwordFormGroup.password')">
                    <div class="invalid-item"
                        *ngIf="(formGroup.get('passwordFormGroup.password').hasError('required')) && formGroup.get('passwordFormGroup.password').touched">
                        La contraseña ingresada no es valida.</div>
                    <div class="invalid-item"
                        *ngIf="(formGroup.get('passwordFormGroup.password').hasError('pattern')) && formGroup.get('passwordFormGroup.password').touched">
                        La contraseña debe tener mínimo ocho caracteres, al menos una letra mayúscula, una letra
                        minúscula, un número y un caracter especial</div>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirmación Contraseña Nueva</label>
                    <i [ngClass]="isValidCheck('passwordFormGroup.confirmPassword')"></i>
                    <input formControlName="confirmPassword" type="password" class="form-control" id="confirmPassword"
                        [ngClass]="isValidInput('passwordFormGroup.confirmPassword')">
                    <div class="invalid-item"
                        *ngIf="(formGroup.get('passwordFormGroup.confirmPassword').hasError('required')) && formGroup.get('passwordFormGroup.confirmPassword').touched">
                        Ingresa una contraseña de confirmación valida</div>
                    <div class="invalid-item"
                        *ngIf="(formGroup.get('passwordFormGroup.confirmPassword').hasError('notEquivalent')) && formGroup.get('passwordFormGroup.confirmPassword').touched">
                        La contraseña de confirmación no coincide.</div>
                </div>
            </div>
            <br>
            <div class="form-group" style="text-align: center;">
                <button type="submit" class="btn btn-primary">
                    <span class="spinner-border spinner-border-sm" [hidden]="isLoadingForm == false"></span>
                    Cambiar Contraseña
                </button>
            </div>
        </form>
    </div>
</div>